# RefBoard TODO

> æœ€åæ›´æ–°: 2026-02-14

## å®ŒæˆçŠ¶æ€å›¾ä¾‹
- âœ… å®Œæˆ
- ğŸ”„ è¿›è¡Œä¸­
- â¬œ å¾…å¼€å§‹

---

## v2.0 Desktop App è¿›åº¦

> Tauri 2.0 + PixiJS 8 + Rust åç«¯

### å·²å®Œæˆ Milestones

| Milestone | è¯´æ˜ |
|-----------|------|
| **M0 Foundation** | Tauri shell + PixiJS æ— é™ç”»å¸ƒ + åŸºç¡€ UI (å·¥å…·æ /ä¾§è¾¹æ /çŠ¶æ€æ ) |
| **M1 AI Integration** | AI provider æŠ½è±¡ (Anthropic/OpenAI/Ollama) + å›¾ç‰‡åˆ†æ + Suggestion é¢æ¿ |
| **M2 Search & Similarity** | SQLite å…¨æ–‡æœç´¢ + CLIP embedding + ç›¸ä¼¼å›¾å‘ç° + Tag è¿‡æ»¤ä¾§è¾¹æ  |
| **M3 Organization** | å¤šé€‰ã€åˆ†ç»„ã€è‡ªåŠ¨å¸ƒå±€ (Tidy Up)ã€undo/redoã€minimap |
| **M4 Web Collection** | Brave Search API + AI æŸ¥è¯¢ç”Ÿæˆ + ä¸‹è½½ç®¡ç†å™¨ |
| **M5 Polish & Ship** | Auto-saveã€é”®ç›˜å¿«æ·é”®ã€Export metadataã€macOS .app æ‰“åŒ… |

### æ ¸å¿ƒåŠŸèƒ½çŠ¶æ€

| çŠ¶æ€ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| âœ… | æ‰“å¼€é¡¹ç›® | é€‰æ‹©ç›®å½•ï¼Œæ‰«æå›¾ç‰‡ï¼ŒåŠ è½½åˆ°ç”»å¸ƒ |
| âœ… | PixiJS æ— é™ç”»å¸ƒ | 60fps æ‹–æ‹½/ç¼©æ”¾/å¹³ç§»ï¼Œç‚¹é˜µç½‘æ ¼èƒŒæ™¯ |
| âœ… | å›¾ç‰‡å¡ç‰‡ | æ‹–æ‹½ç§»åŠ¨ã€é€‰ä¸­ã€hover æ•ˆæœã€å…¥åœºåŠ¨ç”» |
| âœ… | å¤šé€‰ & åˆ†ç»„ | æ¡†é€‰ã€Cmd+G åˆ†ç»„ã€Cmd+Shift+T æ•´ç† |
| âœ… | Minimap | ç¼©ç•¥å¯¼èˆªï¼Œç‚¹å‡»/æ‹–æ‹½è·³è½¬è§†å£ |
| âœ… | AI åˆ†æ | å›¾ç‰‡æè¿°ã€æ ‡ç­¾ã€é£æ ¼ã€é¢œè‰²æå– (Cmd+Shift+A) |
| âœ… | æœç´¢ & è¿‡æ»¤ | å…¨æ–‡æœç´¢ (Cmd+F) + Tag ä¾§è¾¹æ è¿‡æ»¤ |
| âœ… | ç›¸ä¼¼å›¾ç‰‡ | CLIP embedding ç›¸ä¼¼åº¦æœç´¢ |
| âœ… | Web æ”¶é›† | Brave Search åœ¨çº¿æ‰¾å›¾ + ä¸‹è½½åˆ°é¡¹ç›® |
| âœ… | Undo/Redo | Cmd+Z / Cmd+Shift+Z |
| âœ… | Auto-save | å®šæ—¶ä¿å­˜ç”»å¸ƒçŠ¶æ€åˆ° .refboard/board.json |
| âœ… | é”®ç›˜å¿«æ·é”® | å®Œæ•´å¿«æ·é”®ä½“ç³» (Cmd+S ä¿å­˜, Del åˆ é™¤, Cmd+D å¤åˆ¶ç­‰) |
| âœ… | Export | å¯¼å‡ºé¡¹ç›® metadata ä¸º JSON |
| âœ… | æ‹–æ‹½å¯¼å…¥ | Finder æ‹–å›¾ç‰‡åˆ°ç”»å¸ƒï¼Œè‡ªåŠ¨å¤åˆ¶åˆ° images/ |
| âœ… | è®¾ç½®é¢æ¿ | AI Provider / API Key / Brave Key é…ç½® |
| âœ… | æ€§èƒ½ä¼˜åŒ– | åˆ†å—å¹¶è¡ŒåŠ è½½ã€çº¹ç†ç®¡ç†ã€minimap ç¼“å­˜ |

---

## å¾…å®Œæˆä»»åŠ¡

### P0 æ ¸å¿ƒåŠŸèƒ½

| çŠ¶æ€ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| âœ… | **ç²˜è´´å›¾ç‰‡** | Cmd+V ç²˜è´´å‰ªè´´æ¿å›¾ç‰‡/æˆªå›¾ï¼Œä¿å­˜åˆ° images/ å¹¶æ·»åŠ åˆ°ç”»å¸ƒ |
| âœ… | **Home ä¸»é¡µ** | é¡¹ç›®å¡ç‰‡ç½‘æ ¼ + æ–°å»ºé¡¹ç›® + æœ€è¿‘æ‰“å¼€ + æœç´¢æ’åº + ç¼©ç•¥å›¾ |
| âœ… | **æ‹–æ‹½å¯¼å…¥** | Finder æ‹–æ‹½å›¾ç‰‡åˆ°ç”»å¸ƒï¼Œè‡ªåŠ¨å¤åˆ¶åˆ° images/ |
| âœ… | **CLIP åµŒå…¥** | fastembed ONNX è¿è¡Œæ—¶ + ä¸‹è½½è¿›åº¦å¯¹è¯æ¡† |

### P1 çŸ­æœŸ

| çŠ¶æ€ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| âœ… | æ–‡æœ¬æ ‡æ³¨ | T é”®åˆ›å»ºæ–‡æœ¬æ¡†ï¼ŒåŒå‡»ç¼–è¾‘ï¼Œè‡ªåŠ¨é«˜åº¦ |
| âœ… | å›¾å½¢æ¡†ç»„ä»¶ | çŸ©å½¢/æ¤­åœ†/çº¿æ¡+ç®­å¤´ (R/O/L å¿«æ·é”®) |
| âœ… | macOS è®¾è®¡é€‚é… | SF Pro å­—ä½“ã€vibrancy ç£¨ç ‚ç»ç’ƒã€ç´§å‡‘é—´è· |
| ğŸ”„ | **AI Vision é…ç½®é¢æ¿** | Settings > AI Visionï¼Œé…ç½®å›¾ç‰‡åˆ†æçš„ AI Provider |
| â¬œ | HTTP API `/api/import` | OpenClaw ç­‰å¤–éƒ¨å·¥å…·é€šè¿‡ HTTP å¯¼å…¥å›¾ç‰‡ (éœ€åç«¯) |
| â¬œ | ç»Ÿä¸€é¡¹ç›®å­˜å‚¨ | ~/Documents/RefBoard/ + `cmd_create_project` (éœ€åç«¯) |
| â¬œ | æˆªå›¾/GIF | README è§†è§‰æ¼”ç¤ºç´ æ |
| â¬œ | npm å‘å¸ƒå‡†å¤‡ | v1 CLI å·¥å…·å‘å¸ƒåˆ° npm |

### P2 ä¸­æœŸ

| çŠ¶æ€ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| âœ… | æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢ | D é”®åˆ‡æ¢ï¼ŒlocalStorage æŒä¹…åŒ– |
| â¬œ | æ‰¹é‡å¸ƒå±€å‘½ä»¤ | `refboard layout --grid/--cluster` (v1 CLI) |
| âœ… | å›¾ç‰‡å¯¼å…¥å‹ç¼© | å¯¼å…¥æ—¶è‡ªåŠ¨å‹ç¼©ï¼Œä¿ç•™é€æ˜å›¾å±‚ (alpha channel) |
| â¬œ | DMG æ‰“åŒ…ä¿®å¤ | `bundle_dmg.sh` ç­¾å/æ‰“åŒ…æµç¨‹ |

### Bug

| Bug | è¯´æ˜ |
|------|------|
| BUG-005 | `analyzeCommand`/`askCommand` æœª catch AI é”™è¯¯ï¼Œå´©æºƒæ—¶æ˜¾ç¤º stack trace (v1 CLI) |

---

## v2.1 â€” iOS App (è¿œæœŸ)

| çŠ¶æ€ | åŠŸèƒ½ |
|------|------|
| â¬œ | Tauri Mobile é…ç½® |
| â¬œ | è§¦æ§æ‰‹åŠ¿ä¼˜åŒ– |
| â¬œ | iCloud åŒæ­¥ |
| â¬œ | ç›¸æœº/ç›¸å†Œå¯¼å…¥ |
| â¬œ | TestFlight / App Store |

---

## ğŸ”„ å½“å‰ä»»åŠ¡è¯¦æƒ…

### AI Vision é…ç½®é¢æ¿

**ç›®æ ‡ï¼š** æä¾›ä¸€ä¸ªè®¾ç½®ç•Œé¢ï¼Œè®©ç”¨æˆ·é…ç½®ç”¨äºå›¾ç‰‡åˆ†æçš„ AI Provider

**å…¥å£ï¼š** Settings > AI Visionï¼ˆæˆ–èœå•æ  RefBoard > Settings > AI Visionï¼‰

#### UI ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > AI Vision                                    âœ•  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚                                           â”‚
â”‚  â—† OpenAI      â”‚  OpenAI                                   â”‚
â”‚    OpenRouter  â”‚  Use GPT-4o for image analysis            â”‚
â”‚    Claude      â”‚                                           â”‚
â”‚    Ollama      â”‚  API Key                           (i)    â”‚
â”‚    Google      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ğŸ‘â”    â”‚
â”‚    Moonshot    â”‚  â”‚ sk-...                           â”‚    â”‚
â”‚    DeepSeek    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                           â”‚
â”‚                 â”‚  Vision Model *                    (i)    â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                 â”‚  â”‚ gpt-4o-mini                   â–¼ â”‚    â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                           â”‚
â”‚                 â”‚  Base URL                          (i)    â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                 â”‚  â”‚ https://api.openai.com/v1       â”‚    â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                           â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                 â”‚  â”‚    Save    â”‚  â”‚  Test  â”‚             â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                 â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Provider é¢„è®¾é…ç½®

| Provider | Base URL | æ¨è Vision Model | è¯´æ˜ |
|----------|----------|-------------------|------|
| **OpenAI** | https://api.openai.com/v1 | gpt-4o-mini | æ€§ä»·æ¯”æœ€é«˜ |
| **OpenRouter** | https://openrouter.ai/api/v1 | google/gemini-2.0-flash | 300+ æ¨¡å‹èšåˆ |
| **Claude** | https://api.anthropic.com | claude-3-5-haiku-latest | è‰ºæœ¯é£æ ¼è¯†åˆ«å¥½ |
| **Ollama** | http://localhost:11434/v1 | llava:13b | æœ¬åœ°å…è´¹ |
| **Google** | https://generativelanguage.googleapis.com/v1beta | gemini-2.0-flash | ä¾¿å®œå¿«é€Ÿ |
| **Moonshot** | https://api.moonshot.cn/v1 | moonshot-v1-8k-vision-preview | å›½å†…å¯ç”¨ |
| **DeepSeek** | https://api.deepseek.com/v1 | deepseek-chat | å›½äº§ä¾¿å®œ |

#### åŠŸèƒ½éœ€æ±‚

**å‰ç«¯ (settings.js):**
- [ ] Settings å…¥å£æŒ‰é’®ï¼ˆå·¥å…·æ é½¿è½®å›¾æ ‡æˆ–èœå•ï¼‰
- [ ] Modal å¼¹çª—æˆ– Slide-over é¢æ¿
- [ ] å·¦ä¾§ Provider åˆ—è¡¨ï¼ˆå¸¦å›¾æ ‡ï¼Œé€‰ä¸­é«˜äº®ï¼‰
- [ ] å³ä¾§é…ç½®è¡¨å•ï¼ˆAPI Key / Model / Base URLï¼‰
- [ ] API Key è¾“å…¥æ¡†å¸¦æ˜¾ç¤º/éšè—åˆ‡æ¢ï¼ˆçœ¼ç›å›¾æ ‡ï¼‰
- [ ] Model ä¸‹æ‹‰é€‰æ‹©ï¼ˆå¸¸ç”¨æ¨¡å‹ + è‡ªå®šä¹‰è¾“å…¥ï¼‰
- [ ] Save æŒ‰é’® â†’ è°ƒç”¨ `invoke('save_ai_config', {...})`
- [ ] Test æŒ‰é’® â†’ è°ƒç”¨ `invoke('test_ai_vision', {...})` â†’ æ˜¾ç¤ºæµ‹è¯•ç»“æœ
- [ ] macOS é£æ ¼ï¼šç£¨ç ‚ç»ç’ƒèƒŒæ™¯ã€åœ†è§’ã€ç³»ç»Ÿå­—ä½“

**åç«¯ (Rust):**
- [ ] `cmd_get_ai_config()` â€” è¯»å– `~/.refboard/config.json`
- [ ] `cmd_save_ai_config(provider, api_key, model, base_url)` â€” å†™å…¥é…ç½®
- [ ] `cmd_test_ai_vision(provider, api_key, model, base_url)` â€” ç”¨å†…ç½®æµ‹è¯•å›¾ç‰‡è°ƒç”¨ Vision APIï¼Œè¿”å›æè¿°

**é…ç½®å­˜å‚¨æ ¼å¼ (~/.refboard/config.json):**
```json
{
  "ai": {
    "provider": "openai",
    "apiKey": "sk-...",
    "model": "gpt-4o-mini",
    "baseUrl": "https://api.openai.com/v1"
  },
  "brave": {
    "apiKey": "..."
  }
}
```

#### åˆ†å·¥

| è§’è‰² | ä»»åŠ¡ |
|------|------|
| **@Designer** | UI æ ·å¼ï¼šProvider åˆ—è¡¨ã€è¡¨å•å¸ƒå±€ã€æŒ‰é’®ã€å›¾æ ‡ã€macOS é£æ ¼ |
| **@Generator** | Rust å‘½ä»¤ï¼šé…ç½®è¯»å†™ã€Vision API æµ‹è¯• |
| **@Template** | å‰ç«¯é€»è¾‘ï¼šè¡¨å•äº¤äº’ã€invoke è°ƒç”¨ã€çŠ¶æ€ç®¡ç† |

#### éªŒæ”¶æ ‡å‡†

- [ ] ç‚¹å‡» Settings æ‰“å¼€ AI Vision é…ç½®é¢æ¿
- [ ] é€‰æ‹© Provider è‡ªåŠ¨å¡«å……é»˜è®¤ Base URL å’Œæ¨è Model
- [ ] Save æˆåŠŸä¿å­˜é…ç½®åˆ° ~/.refboard/config.json
- [ ] Test èƒ½æ­£ç¡®è°ƒç”¨ Vision API å¹¶æ˜¾ç¤ºæµ‹è¯•ç»“æœï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
- [ ] é…ç½®ä¿å­˜åï¼Œåˆ†æå›¾ç‰‡åŠŸèƒ½ä½¿ç”¨æ–°é…ç½®

---

## v1 CLI çŠ¶æ€ (ç»´æŠ¤æ¨¡å¼)

v1 CLI (`bin/refboard.js`) åŠŸèƒ½å®Œæ•´ï¼Œè¿›å…¥ç»´æŠ¤æ¨¡å¼ã€‚

| çŠ¶æ€ | åŠŸèƒ½ |
|------|------|
| âœ… | åŸºç¡€å‘½ä»¤: init, build, add, import, list, status, meta, remove |
| âœ… | AI å‘½ä»¤: analyze, auto-tag, search, ask, config |
| âœ… | Agent æ¥å£: agent add/layout/export |
| âœ… | serve å‘½ä»¤ (HTTP + SSE livereload) |
| âœ… | save-positions (æ‹–æ‹½ä½ç½®æŒä¹…åŒ–) |
| âœ… | AI Provider ç»Ÿä¸€æ¥å£ (6 ä¸ª Adapter) |
| âœ… | æ–‡æ¡£: README, CHANGELOG, user-guide, API reference |

---

## æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Tauri 2.0 App Shell         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   WebView (PixiJS 8 æ¸²æŸ“)   â”‚    â”‚
â”‚  â”‚   - æ— é™ç”»å¸ƒ               â”‚    â”‚
â”‚  â”‚   - 60fps æ‹–æ‹½/ç¼©æ”¾        â”‚    â”‚
â”‚  â”‚   - AI åˆ†æ + æœç´¢ UI      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚ Tauri IPC         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Rust Backend              â”‚    â”‚
â”‚  â”‚   - scan_images / import    â”‚    â”‚
â”‚  â”‚   - metadata.json è¯»å†™      â”‚    â”‚
â”‚  â”‚   - SQLite æœç´¢ç´¢å¼•         â”‚    â”‚
â”‚  â”‚   - AI API ä»£ç†             â”‚    â”‚
â”‚  â”‚   - board state æŒä¹…åŒ–      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
