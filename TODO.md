# RefBoard TODO

> æœ€åæ›´æ–°: 2026-02-16

## å®ŒæˆçŠ¶æ€å›¾ä¾‹
- âœ… å®Œæˆ
- ğŸ”„ è¿›è¡Œä¸­
- â¬œ å¾…å¼€å§‹

---

## v2.0 Desktop App è¿›åº¦

> Tauri 2.0 + PixiJS 8 + Rust åç«¯

### å·²å®Œæˆ Milestones

| Milestone | è¯´æ˜ |
|-----------|------|
| **M0 Foundation** | Tauri shell + PixiJS æ— é™ç”»å¸ƒ + åŸºç¡€ UI (å·¥å…·æ /ä¾§è¾¹æ /çŠ¶æ€æ ) |
| **M1 AI Integration** | AI provider æŠ½è±¡ (Anthropic/OpenAI/Ollama) + å›¾ç‰‡åˆ†æ + Suggestion é¢æ¿ |
| **M2 Search & Similarity** | SQLite å…¨æ–‡æœç´¢ + CLIP embedding + ç›¸ä¼¼å›¾å‘ç° + Tag è¿‡æ»¤ä¾§è¾¹æ  |
| **M3 Organization** | å¤šé€‰ã€åˆ†ç»„ã€è‡ªåŠ¨å¸ƒå±€ (Tidy Up)ã€undo/redoã€minimap |
| **M4 Web Collection** | Brave Search API + AI æŸ¥è¯¢ç”Ÿæˆ + ä¸‹è½½ç®¡ç†å™¨ |
| **M5 Polish & Ship** | Auto-saveã€é”®ç›˜å¿«æ·é”®ã€Export metadataã€macOS .app æ‰“åŒ… |

### æ ¸å¿ƒåŠŸèƒ½çŠ¶æ€

| çŠ¶æ€ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| âœ… | æ‰“å¼€é¡¹ç›® | é€‰æ‹©ç›®å½•ï¼Œæ‰«æå›¾ç‰‡ï¼ŒåŠ è½½åˆ°ç”»å¸ƒ |
| âœ… | PixiJS æ— é™ç”»å¸ƒ | 60fps æ‹–æ‹½/ç¼©æ”¾/å¹³ç§»ï¼Œç‚¹é˜µç½‘æ ¼èƒŒæ™¯ |
| âœ… | å›¾ç‰‡å¡ç‰‡ | æ‹–æ‹½ç§»åŠ¨ã€é€‰ä¸­ã€hover æ•ˆæœã€å…¥åœºåŠ¨ç”» |
| âœ… | å¤šé€‰ & åˆ†ç»„ | æ¡†é€‰ã€Cmd+G åˆ†ç»„ã€Cmd+Shift+T æ•´ç† |
| âœ… | Minimap | ç¼©ç•¥å¯¼èˆªï¼Œç‚¹å‡»/æ‹–æ‹½è·³è½¬è§†å£ |
| âœ… | AI åˆ†æ | å›¾ç‰‡æè¿°ã€æ ‡ç­¾ã€é£æ ¼ã€é¢œè‰²æå– (Cmd+Shift+A) |
| âœ… | æœç´¢ & è¿‡æ»¤ | å…¨æ–‡æœç´¢ (Cmd+F) + Tag ä¾§è¾¹æ è¿‡æ»¤ |
| âœ… | ç›¸ä¼¼å›¾ç‰‡ | CLIP embedding ç›¸ä¼¼åº¦æœç´¢ |
| âœ… | Web æ”¶é›† | Brave Search åœ¨çº¿æ‰¾å›¾ + ä¸‹è½½åˆ°é¡¹ç›® |
| âœ… | Undo/Redo | Cmd+Z / Cmd+Shift+Z |
| âœ… | Auto-save | å®šæ—¶ä¿å­˜ç”»å¸ƒçŠ¶æ€åˆ° .refboard/board.json |
| âœ… | é”®ç›˜å¿«æ·é”® | å®Œæ•´å¿«æ·é”®ä½“ç³» (Cmd+S ä¿å­˜, Del åˆ é™¤, Cmd+D å¤åˆ¶ç­‰) |
| âœ… | Export | å¯¼å‡ºé¡¹ç›® metadata ä¸º JSON |
| âœ… | æ‹–æ‹½å¯¼å…¥ | Finder æ‹–å›¾ç‰‡åˆ°ç”»å¸ƒï¼Œè‡ªåŠ¨å¤åˆ¶åˆ° images/ |
| âœ… | è®¾ç½®é¢æ¿ | AI Provider / API Key / Brave Key é…ç½® |
| âœ… | æ€§èƒ½ä¼˜åŒ– | åˆ†å—å¹¶è¡ŒåŠ è½½ã€çº¹ç†ç®¡ç†ã€minimap ç¼“å­˜ |

---

## å¾…å®Œæˆä»»åŠ¡

### P0 æ ¸å¿ƒåŠŸèƒ½

| çŠ¶æ€ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| âœ… | **ç²˜è´´å›¾ç‰‡** | Cmd+V ç²˜è´´å‰ªè´´æ¿å›¾ç‰‡/æˆªå›¾ï¼Œä¿å­˜åˆ° images/ å¹¶æ·»åŠ åˆ°ç”»å¸ƒ |
| âœ… | **Home ä¸»é¡µ** | é¡¹ç›®å¡ç‰‡ç½‘æ ¼ + æ–°å»ºé¡¹ç›® + æœ€è¿‘æ‰“å¼€ + æœç´¢æ’åº + ç¼©ç•¥å›¾ |
| âœ… | **æ‹–æ‹½å¯¼å…¥** | Finder æ‹–æ‹½å›¾ç‰‡åˆ°ç”»å¸ƒï¼Œè‡ªåŠ¨å¤åˆ¶åˆ° images/ |
| âœ… | **CLIP åµŒå…¥** | fastembed ONNX è¿è¡Œæ—¶ + ä¸‹è½½è¿›åº¦å¯¹è¯æ¡† |
| âœ… | **åˆ é™¤ v1 CLI** | ç§»é™¤ bin/, lib/, index.js ç­‰ CLI ä»£ç ï¼ŒDesktop ä¸å—å½±å“ (8c02855) |
| âœ… | **AI åˆ†æå¡«å……å…ƒæ•°æ®** | æ‰¹é‡åˆ†æ + è¿›åº¦æ¡ + è‡ªåŠ¨å¡«å…… description/tags/style/colors/mood (804dd09) |
| âœ… | **AI å›¾ç‰‡ç”Ÿæˆ** | Cmd+G Generate å¯¹è¯æ¡† + DALL-E 3 åç«¯ + å‚è€ƒå›¾ä¸Šä¸‹æ–‡ (804dd09) |
| âœ… | **å›¾å½¢æ¡†ç¼©æ”¾ä¼˜åŒ–** | Frame resize: mask clippingï¼Œå›¾åƒä¿æŒåŸå§‹å¤§å°ï¼Œåªæ”¹å˜å¯è§åŒºåŸŸ |
| âœ… | **é€‰ä¸­å¼¹å‡ºå·¥å…·æ ** | æµ®åŠ¨å·¥å…·æ  (Lock/Align/Copy/Delete/More) + å¯¹é½å­èœå• + Lucide Icons |
| âœ… | **é¡¶éƒ¨å¯¼èˆªæ é‡æ„** | Home æŒ‰é’®å·¦ä¸Šè§’ + Sidebar toggle (Cmd+\\) + æŠ˜å åŠ¨ç”» + localStorage |
| â¬œ | **OpenClaw æ·±åº¦é›†æˆæ–¹æ¡ˆ** | è®¾è®¡ OpenClaw å¦‚ä½•æ›´å¥½åœ°å‚ä¸é¢æ¿äº¤äº’ï¼ˆ@Docs è°ƒç ”ï¼‰ |
| âœ… | **CLIP API æ‰©å±•** | /api/embed, /api/embed-batch, /api/similar, /api/search-semantic, /api/cluster |
| ğŸ”„ | **AI Vision æ¨¡å‹æ‰©å±•** | è°ƒç ”æ›´å¤šæ”¯æŒå›¾ç‰‡åˆ†æçš„æ¨¡å‹ï¼ŒåŠ å…¥ Settings é¡µé¢ (@Researcher) |
| â¬œ | **canvas.js æ¨¡å—åŒ–æ‹†åˆ†** | çº¯é‡æ„ï¼šæ‹†æˆ canvas/index.js, renderer.js, cards.js, groups.js, selection.js, shortcuts.js, toolbar.jsï¼ˆæ¯æ–‡ä»¶ 300-500 è¡Œï¼‰|
| â¬œ | **æµ®åŠ¨å·¥å…·æ ä¸Šä¸‹æ–‡æ„ŸçŸ¥** | ä¸åŒç±»å‹å¯¹è±¡ï¼ˆå›¾ç‰‡/æ¡†/æ–‡å­—/çº¿æ¡ï¼‰æ˜¾ç¤ºä¸åŒå·¥å…·é€‰é¡¹ï¼ˆç­‰æ‹†åˆ†å®Œåè®¨è®ºè®¾è®¡ï¼‰|

### P1 çŸ­æœŸ

| çŠ¶æ€ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| âœ… | æ–‡æœ¬æ ‡æ³¨ | T é”®åˆ›å»ºæ–‡æœ¬æ¡†ï¼ŒåŒå‡»ç¼–è¾‘ï¼Œè‡ªåŠ¨é«˜åº¦ |
| âœ… | å›¾å½¢æ¡†ç»„ä»¶ | çŸ©å½¢/æ¤­åœ†/çº¿æ¡+ç®­å¤´ (R/O/L å¿«æ·é”®) |
| âœ… | macOS è®¾è®¡é€‚é… | SF Pro å­—ä½“ã€vibrancy ç£¨ç ‚ç»ç’ƒã€ç´§å‡‘é—´è· |
| âœ… | HTTP API å®Œæ•´å¥—ä»¶ | `/api/import` + `/api/delete` + `/api/move` + `/api/item` |
| âœ… | ç»Ÿä¸€é¡¹ç›®å­˜å‚¨ | StorageProvider trait + é»˜è®¤é¡¹ç›®æ–‡ä»¶å¤¹ + auto-scan |
| âœ… | **AI Vision é…ç½®é¢æ¿** | Settings > AI Visionï¼Œ7 Provider é¢„è®¾ + çœŸå®è¿æ¥æµ‹è¯• + Save/Load |
| ğŸ”„ | **å¯¼å…¥åè‡ªåŠ¨ index + embed** | æ‰€æœ‰å¯¼å…¥è·¯å¾„åç«¯ä¸€æ¡é¾™å®Œæˆ SQLite indexing + CLIP embedding |
| âœ… | **å›¾æ ‡çŸ¢é‡åŒ–** | æ‰€æœ‰ close/remove æŒ‰é’® + download æŒ‰é’®æ›¿æ¢ä¸º Lucide Icons SVG |
| â¬œ | æˆªå›¾/GIF | README è§†è§‰æ¼”ç¤ºç´ æ |
| âŒ | ~~npm å‘å¸ƒå‡†å¤‡~~ | v1 CLI å·²åˆ é™¤ï¼Œä¸å†éœ€è¦ |

### P2 ä¸­æœŸ

| çŠ¶æ€ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| âœ… | æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢ | D é”®åˆ‡æ¢ï¼ŒlocalStorage æŒä¹…åŒ– |
| â¬œ | æ‰¹é‡å¸ƒå±€å‘½ä»¤ | `refboard layout --grid/--cluster` (v1 CLI) |
| âœ… | å›¾ç‰‡å¯¼å…¥å‹ç¼© | å¯¼å…¥æ—¶è‡ªåŠ¨å‹ç¼©ï¼Œä¿ç•™é€æ˜å›¾å±‚ (alpha channel) |
| â¬œ | DMG æ‰“åŒ…ä¿®å¤ | `bundle_dmg.sh` ç­¾å/æ‰“åŒ…æµç¨‹ |

### Bug

| Bug | è¯´æ˜ |
|------|------|
| ~~BUG-005~~ | ~~v1 CLI å·²åˆ é™¤~~ |
| âœ… BUG-006 | Group è¡Œä¸ºä¿®å¤ï¼šé€‰ä¸­æ•´ç»„ã€æ‹–æ‹½æ•´ç»„ã€è¾¹æ¡†è·Ÿéšã€åŒå‡»è¿›å…¥ç¼–è¾‘ |
| âœ… BUG-007 | Cmd+G å¿«æ·é”®å†²çªï¼šGroup=Cmd+G, Generate=Cmd+Shift+G, Ungroup=Cmd+Shift+U |
| âœ… BUG-008 | é€‰ä¸­ Shape/Text æ—¶ä¸å¼¹å‡ºå³ä¾§è¯¦æƒ…é¢æ¿ |

---

## v2.1 â€” iOS App (è¿œæœŸ)

| çŠ¶æ€ | åŠŸèƒ½ |
|------|------|
| â¬œ | Tauri Mobile é…ç½® |
| â¬œ | è§¦æ§æ‰‹åŠ¿ä¼˜åŒ– |
| â¬œ | iCloud åŒæ­¥ |
| â¬œ | ç›¸æœº/ç›¸å†Œå¯¼å…¥ |
| â¬œ | TestFlight / App Store |

---

## ğŸ”„ å½“å‰ä»»åŠ¡è¯¦æƒ…

### AI Vision é…ç½®é¢æ¿

**ç›®æ ‡ï¼š** æä¾›ä¸€ä¸ªè®¾ç½®ç•Œé¢ï¼Œè®©ç”¨æˆ·é…ç½®ç”¨äºå›¾ç‰‡åˆ†æçš„ AI Provider

**å…¥å£ï¼š** Settings > AI Visionï¼ˆæˆ–èœå•æ  RefBoard > Settings > AI Visionï¼‰

#### UI ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > AI Vision                                    âœ•  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚                                           â”‚
â”‚  â—† OpenAI      â”‚  OpenAI                                   â”‚
â”‚    OpenRouter  â”‚  Use GPT-4o for image analysis            â”‚
â”‚    Claude      â”‚                                           â”‚
â”‚    Ollama      â”‚  API Key                           (i)    â”‚
â”‚    Google      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ğŸ‘â”    â”‚
â”‚    Moonshot    â”‚  â”‚ sk-...                           â”‚    â”‚
â”‚    DeepSeek    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                           â”‚
â”‚                 â”‚  Vision Model *                    (i)    â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                 â”‚  â”‚ gpt-4o-mini                   â–¼ â”‚    â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                           â”‚
â”‚                 â”‚  Base URL                          (i)    â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                 â”‚  â”‚ https://api.openai.com/v1       â”‚    â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                           â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                 â”‚  â”‚    Save    â”‚  â”‚  Test  â”‚             â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                 â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Provider é¢„è®¾é…ç½®

| Provider | Base URL | æ¨è Vision Model | è¯´æ˜ |
|----------|----------|-------------------|------|
| **OpenAI** | https://api.openai.com/v1 | gpt-4o-mini | æ€§ä»·æ¯”æœ€é«˜ |
| **OpenRouter** | https://openrouter.ai/api/v1 | google/gemini-2.0-flash | 300+ æ¨¡å‹èšåˆ |
| **Claude** | https://api.anthropic.com | claude-3-5-haiku-latest | è‰ºæœ¯é£æ ¼è¯†åˆ«å¥½ |
| **Ollama** | http://localhost:11434/v1 | llava:13b | æœ¬åœ°å…è´¹ |
| **Google** | https://generativelanguage.googleapis.com/v1beta | gemini-2.0-flash | ä¾¿å®œå¿«é€Ÿ |
| **Moonshot** | https://api.moonshot.cn/v1 | moonshot-v1-8k-vision-preview | å›½å†…å¯ç”¨ |
| **DeepSeek** | https://api.deepseek.com/v1 | deepseek-chat | å›½äº§ä¾¿å®œ |

#### åŠŸèƒ½éœ€æ±‚

**å‰ç«¯ (settings.js):**
- [ ] Settings å…¥å£æŒ‰é’®ï¼ˆå·¥å…·æ é½¿è½®å›¾æ ‡æˆ–èœå•ï¼‰
- [ ] Modal å¼¹çª—æˆ– Slide-over é¢æ¿
- [ ] å·¦ä¾§ Provider åˆ—è¡¨ï¼ˆå¸¦å›¾æ ‡ï¼Œé€‰ä¸­é«˜äº®ï¼‰
- [ ] å³ä¾§é…ç½®è¡¨å•ï¼ˆAPI Key / Model / Base URLï¼‰
- [ ] API Key è¾“å…¥æ¡†å¸¦æ˜¾ç¤º/éšè—åˆ‡æ¢ï¼ˆçœ¼ç›å›¾æ ‡ï¼‰
- [ ] Model ä¸‹æ‹‰é€‰æ‹©ï¼ˆå¸¸ç”¨æ¨¡å‹ + è‡ªå®šä¹‰è¾“å…¥ï¼‰
- [ ] Save æŒ‰é’® â†’ è°ƒç”¨ `invoke('save_ai_config', {...})`
- [ ] Test æŒ‰é’® â†’ è°ƒç”¨ `invoke('test_ai_vision', {...})` â†’ æ˜¾ç¤ºæµ‹è¯•ç»“æœ
- [ ] macOS é£æ ¼ï¼šç£¨ç ‚ç»ç’ƒèƒŒæ™¯ã€åœ†è§’ã€ç³»ç»Ÿå­—ä½“

**åç«¯ (Rust):**
- [ ] `cmd_get_ai_config()` â€” è¯»å– `~/.refboard/config.json`
- [ ] `cmd_save_ai_config(provider, api_key, model, base_url)` â€” å†™å…¥é…ç½®
- [ ] `cmd_test_ai_vision(provider, api_key, model, base_url)` â€” ç”¨å†…ç½®æµ‹è¯•å›¾ç‰‡è°ƒç”¨ Vision APIï¼Œè¿”å›æè¿°

**é…ç½®å­˜å‚¨æ ¼å¼ (~/.refboard/config.json):**
```json
{
  "ai": {
    "provider": "openai",
    "apiKey": "sk-...",
    "model": "gpt-4o-mini",
    "baseUrl": "https://api.openai.com/v1"
  },
  "brave": {
    "apiKey": "..."
  }
}
```

#### åˆ†å·¥

| è§’è‰² | ä»»åŠ¡ |
|------|------|
| **@Designer** | UI æ ·å¼ï¼šProvider åˆ—è¡¨ã€è¡¨å•å¸ƒå±€ã€æŒ‰é’®ã€å›¾æ ‡ã€macOS é£æ ¼ |
| **@Generator** | Rust å‘½ä»¤ï¼šé…ç½®è¯»å†™ã€Vision API æµ‹è¯• |
| **@Template** | å‰ç«¯é€»è¾‘ï¼šè¡¨å•äº¤äº’ã€invoke è°ƒç”¨ã€çŠ¶æ€ç®¡ç† |

#### éªŒæ”¶æ ‡å‡†

- [ ] ç‚¹å‡» Settings æ‰“å¼€ AI Vision é…ç½®é¢æ¿
- [ ] é€‰æ‹© Provider è‡ªåŠ¨å¡«å……é»˜è®¤ Base URL å’Œæ¨è Model
- [ ] Save æˆåŠŸä¿å­˜é…ç½®åˆ° ~/.refboard/config.json
- [ ] Test èƒ½æ­£ç¡®è°ƒç”¨ Vision API å¹¶æ˜¾ç¤ºæµ‹è¯•ç»“æœï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
- [ ] é…ç½®ä¿å­˜åï¼Œåˆ†æå›¾ç‰‡åŠŸèƒ½ä½¿ç”¨æ–°é…ç½®

---

### AI åˆ†æå¡«å……å…ƒæ•°æ®

**ç›®æ ‡ï¼š** åˆ†æå›¾ç‰‡åè‡ªåŠ¨å¡«å……ç»“æ„åŒ–å…ƒæ•°æ®

**è§¦å‘æ–¹å¼ï¼š**
- é€‰ä¸­å›¾ç‰‡ â†’ å³é”®ã€ŒAnalyze with AIã€
- å¿«æ·é”®ï¼ˆå¾…å®šï¼‰
- æ‰¹é‡ï¼šå¤šé€‰ â†’ å³é”®ã€ŒAnalyze Allã€

**å¡«å……å­—æ®µï¼š**
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `description` | string | å›¾ç‰‡æè¿°ï¼ˆ1-2å¥ï¼‰ |
| `tags` | string[] | å…³é”®è¯æ ‡ç­¾ |
| `style` | string | è‰ºæœ¯é£æ ¼ï¼ˆArt Deco, Minimalist, etc.ï¼‰ |
| `colors` | string[] | ä¸»è‰²è°ƒï¼ˆå¯é€‰ï¼‰ |
| `mood` | string | æƒ…ç»ª/æ°›å›´ï¼ˆå¯é€‰ï¼‰ |

**UIï¼š**
- åˆ†ææ—¶æ˜¾ç¤º loading çŠ¶æ€
- å®Œæˆå Info Panel è‡ªåŠ¨æ›´æ–°
- ç”¨æˆ·å¯æ‰‹åŠ¨ç¼–è¾‘/ä¿®æ­£ç»“æœ
- æ‰¹é‡åˆ†ææ˜¾ç¤ºè¿›åº¦æ¡

**åˆ†å·¥ï¼š**
| è§’è‰² | ä»»åŠ¡ |
|------|------|
| **@Generator** | åç«¯ `cmd_analyze_image_full` è¿”å›å®Œæ•´å…ƒæ•°æ® |
| **@Designer** | Info Panel æ˜¾ç¤ºæ–°å­—æ®µ + ç¼–è¾‘ UI |

---

### AI å›¾ç‰‡ç”Ÿæˆ (Cmd+G)

**ç›®æ ‡ï¼š** é€‰ä¸­å‚è€ƒå›¾ + è¾“å…¥ prompt â†’ AI ç”Ÿæˆæ–°å›¾ç‰‡

**äº¤äº’æµç¨‹ï¼š**
1. é€‰ä¸­ 1-N å¼ å›¾ç‰‡ä½œä¸ºå‚è€ƒ
2. `Cmd+G` æ‰“å¼€ Generate å¯¹è¯æ¡†
3. è¾“å…¥ promptï¼Œç”¨ `@` å¼•ç”¨ç‰¹å®šå›¾ç‰‡
4. é€‰æ‹©ç”Ÿæˆæ¨¡å‹ + å‚æ•°
5. ç‚¹å‡» Generate â†’ ç”Ÿæˆå›¾ç‰‡ â†’ è‡ªåŠ¨æ·»åŠ åˆ°ç”»å¸ƒ

**@ Mention è§„èŒƒï¼š**
```
è¾“å…¥ç¤ºä¾‹ï¼š
"A sculpture combining the pose of @img-001 with the texture of @img-002"

è§¦å‘æ–¹å¼ï¼š
- è¾“å…¥ @ â†’ å¼¹å‡ºå›¾ç‰‡é€‰æ‹©å™¨ï¼ˆç¼©ç•¥å›¾ç½‘æ ¼ï¼‰
- ç»§ç»­è¾“å…¥å¯ç­›é€‰
- é€‰ä¸­åæ˜¾ç¤ºä¸º pill æ ·å¼ï¼š[ğŸ–¼ img-001]
```

**Generate å¯¹è¯æ¡† UIï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Generate Image                          âœ•  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  References (3 selected):                   â”‚
â”‚  [ğŸ–¼ img-001] [ğŸ–¼ img-002] [ğŸ–¼ img-003]      â”‚
â”‚                                             â”‚
â”‚  Prompt:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ A futuristic chair inspired by      â”‚    â”‚
â”‚  â”‚ @img-001 's curves and @img-002 's  â”‚    â”‚
â”‚  â”‚ color palette...                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                             â”‚
â”‚  Model: [DALL-E 3        â–¾]                 â”‚
â”‚  Size:  [1024x1024       â–¾]                 â”‚
â”‚  Count: [1  â–¾]                              â”‚
â”‚                                             â”‚
â”‚           [Cancel]  [âœ¨ Generate]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ”¯æŒçš„ç”Ÿæˆ APIï¼š**
| Provider | Model | è¯´æ˜ |
|----------|-------|------|
| OpenAI | DALL-E 3 | é«˜è´¨é‡ï¼Œ$0.04/å¼  |
| Stability AI | SDXL / SD3 | å¯æ§æ€§å¼º |
| Replicate | Flux / SD | çµæ´» |

**æŠ€æœ¯è¦ç‚¹ï¼š**
- @ mention è§£æï¼šæå– `@img-xxx` â†’ è½¬æ¢ä¸º base64 å‘é€ç»™ API
- ç”Ÿæˆç»“æœä¿å­˜åˆ° `images/generated/`

**âš ï¸ ç”Ÿæˆæµç¨‹ UXï¼ˆé‡è¦ï¼‰ï¼š**
1. ç‚¹å‡» Generate åï¼Œ**ç«‹å³åœ¨ç”»å¸ƒä¸Šåˆ›å»ºä¸€ä¸ªç©ºç™½å ä½æ¡†**
2. å ä½æ¡†æ˜¾ç¤º loading åŠ¨ç”»ï¼ˆshimmer / skeleton / spinnerï¼‰
3. ç”Ÿæˆå®Œæˆåï¼Œ**å ä½æ¡†è¢«çœŸå®å›¾ç‰‡å¡«å……**ï¼ˆæ¸æ˜¾æ•ˆæœï¼‰
4. å¦‚æœç”Ÿæˆå¤±è´¥ï¼Œå ä½æ¡†æ˜¾ç¤ºé”™è¯¯çŠ¶æ€ + é‡è¯•æŒ‰é’®

**è§†è§‰æ•ˆæœï¼š**
```
[ç‚¹å‡» Generate]
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â† å ä½æ¡† + loading shimmer
â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚
â”‚  Generating â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ–¼ï¸ çœŸå®å›¾ç‰‡ â”‚  â† æ·¡å…¥æ˜¾ç¤º
â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å ä½æ¡†ä½ç½®ï¼š** é€‰ä¸­å‚è€ƒå›¾çš„å³ä¾§ï¼Œæˆ–ç”»å¸ƒå¯è§åŒºåŸŸä¸­å¿ƒ

**åˆ†å·¥ï¼š**
| è§’è‰² | ä»»åŠ¡ |
|------|------|
| **@Designer** | Generate å¯¹è¯æ¡† UI + @ mention è¾“å…¥ç»„ä»¶ |
| **@Generator** | ç”Ÿæˆ API å¯¹æ¥ + å›¾ç‰‡ä¿å­˜ + ç”»å¸ƒæ·»åŠ  |
| **@Template** | å¯¹è¯æ¡†å‰ç«¯é€»è¾‘ + @ mention äº¤äº’ |

---

### CLIP API æ‰©å±•

**ç›®æ ‡ï¼š** è®© OpenClaw èƒ½ä½¿ç”¨ CLIP è¯­ä¹‰èƒ½åŠ›

**æ–°å¢ APIï¼š**
| ç«¯ç‚¹ | æ–¹æ³• | ç”¨é€” |
|------|------|------|
| `/api/embed` | POST | ä¸ºæŒ‡å®šå›¾ç‰‡ç”Ÿæˆ CLIP embedding |
| `/api/embed-batch` | POST | æ‰¹é‡ç”Ÿæˆ embedding |
| `/api/similar` | POST | æŸ¥æ‰¾ç›¸ä¼¼å›¾ç‰‡ï¼ˆè¿”å› top-Nï¼‰ |
| `/api/search-semantic` | POST | æ–‡æœ¬è¯­ä¹‰æœç´¢ï¼ˆtext â†’ imagesï¼‰ |
| `/api/cluster` | POST | è‡ªåŠ¨èšç±»åˆ†ç»„ |

**è¯·æ±‚/å“åº”ç¤ºä¾‹ï¼š**

```bash
# æŸ¥æ‰¾ç›¸ä¼¼å›¾ç‰‡
POST /api/similar
{ "id": "img-001", "topK": 5 }

# å“åº”
{
  "results": [
    { "id": "img-005", "score": 0.92 },
    { "id": "img-012", "score": 0.87 }
  ]
}

# è¯­ä¹‰æœç´¢
POST /api/search-semantic
{ "query": "Art Deco chair", "topK": 10 }

# è‡ªåŠ¨èšç±»
POST /api/cluster
{ "numClusters": 5 }
# å“åº”
{
  "clusters": [
    { "id": 0, "items": ["img-001", "img-003", "img-007"] },
    { "id": 1, "items": ["img-002", "img-004"] }
  ]
}
```

**åˆ†å·¥ï¼š** @Generator (Rust API) + @Docs (æ–‡æ¡£)

---

### AI Vision æ¨¡å‹æ‰©å±•

**ç›®æ ‡ï¼š** æ”¯æŒæ›´å¤šå›¾ç‰‡åˆ†ææ¨¡å‹ï¼Œè®©ç”¨æˆ·åœ¨ Settings ä¸­é€‰æ‹©

**è°ƒç ”æ–¹å‘ï¼š**

| Provider | æ¨¡å‹ | ç‰¹ç‚¹ | ä»·æ ¼ |
|----------|------|------|------|
| OpenAI | gpt-4o / gpt-4o-mini | ç»¼åˆæœ€å¼º | $0.00255/å¼  |
| OpenRouter | 300+ æ¨¡å‹èšåˆ | ä¸€ä¸ª API å¤šæ¨¡å‹ | æŒ‰æ¨¡å‹è®¡è´¹ |
| Anthropic | claude-3.5-haiku / sonnet | è‰ºæœ¯ç†è§£å¥½ | ~$0.001/å¼  |
| Google | gemini-2.0-flash / pro | ä¾¿å®œå¿«é€Ÿ | å…è´¹é¢åº¦ |
| Moonshot | kimi-vision | ä¸­æ–‡å¥½ | å›½å†…å¯ç”¨ |
| DeepSeek | deepseek-vl | ä¾¿å®œ | ~$0.0005/å¼  |
| Qwen | qwen-vl-max | ä¸­æ–‡ç†è§£å¼º | å›½å†…å¯ç”¨ |
| Ollama | llava / bakllava / moondream | æœ¬åœ°å…è´¹ | å…è´¹ |
| Together AI | llava-v1.6 / qwen-vl | ä¾¿å®œ API | ~$0.0002/å¼  |
| Groq | llava-v1.5-7b | è¶…å¿« | å…è´¹é¢åº¦ |

**éœ€è¦è°ƒç ”å¹¶è¡¥å……ï¼š**
- æ¯ä¸ªæ¨¡å‹çš„å›¾ç‰‡åˆ†æè´¨é‡
- å“åº”é€Ÿåº¦
- ä»·æ ¼å¯¹æ¯”
- æ˜¯å¦æ”¯æŒä¸­æ–‡è¾“å‡º

**Settings é¡µé¢æ›´æ–°ï¼š**
- æ‰©å±• Provider åˆ—è¡¨
- æ¯ä¸ª Provider æ˜¾ç¤ºæ¨èæ¨¡å‹
- å¯é€‰ï¼šæ¨¡å‹è´¨é‡/é€Ÿåº¦/ä»·æ ¼æ ‡ç­¾

**åˆ†å·¥ï¼š** @Researcher (è°ƒç ”) + @Designer (Settings UI) + @Generator (åç«¯æ”¯æŒ)

---

### å›¾å½¢æ¡†ç¼©æ”¾ä¼˜åŒ–

**é—®é¢˜ï¼š** å½“å‰ç¼©æ”¾å›¾å½¢æ¡†æ—¶ï¼Œå†…éƒ¨å›¾åƒä¹Ÿè·Ÿç€æ”¾å¤§/ç¼©å°

**æœŸæœ›ï¼š** åªæ”¹å˜å¤–æ¡†å°ºå¯¸ï¼Œå›¾åƒä¿æŒåŸå§‹å¤§å°ï¼ˆç±»ä¼¼ Figma Frameï¼‰

**å®ç°æ€è·¯ï¼š**
- åŒºåˆ† Frameï¼ˆå®¹å™¨ï¼‰å’Œ Contentï¼ˆå†…å®¹ï¼‰
- ç¼©æ”¾æ—¶åªæ”¹å˜ Frame çš„ width/height
- Content ä¿æŒåŸå§‹ scaleï¼Œå¿…è¦æ—¶è£å‰ªæˆ–æ˜¾ç¤ºç©ºç™½

**åˆ†å·¥ï¼š** @Generator + @Designer

---

### é€‰ä¸­å¼¹å‡ºå·¥å…·æ  (Floating Toolbar)

**å‚è€ƒï¼š** Figma é€‰ä¸­å…ƒç´ åçš„å¼¹å‡ºå·¥å…·æ 

**è§¦å‘æ¡ä»¶ï¼š** é€‰ä¸­ 1 ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼ˆå›¾ç‰‡/å›¾æ ‡/æ–‡å­—/å›¾å½¢ï¼‰

**UI ä½ç½®ï¼š** é€‰ä¸­å…ƒç´ ä¸Šæ–¹ï¼Œæ°´å¹³å±…ä¸­ï¼Œä¿æŒåœ¨è§†å£å†…

**å·¥å…·æ å†…å®¹ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”’  â”‚  ğŸ“  â”‚  ğŸ¨  â”‚  ğŸ“‹  â”‚  ğŸ—‘  â”‚  â‹¯  â”‚
â”‚ Lock â”‚ Alignâ”‚ Fill â”‚ Copy â”‚ Del  â”‚ More â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½æŒ‰é’®ï¼š**
| å›¾æ ‡ | åŠŸèƒ½ | å¿«æ·é”® |
|------|------|--------|
| ğŸ”’ | é”å®š/è§£é” | Cmd+Shift+L |
| ğŸ“ | å¯¹é½èœå•ï¼ˆå·¦/ä¸­/å³/ä¸Š/ä¸­/ä¸‹/åˆ†å¸ƒï¼‰ | â€” |
| ğŸ¨ | å¡«å……é¢œè‰²ï¼ˆå›¾å½¢æ¡†ç”¨ï¼‰ | â€” |
| ğŸ“‹ | å¤åˆ¶ | Cmd+D |
| ğŸ—‘ | åˆ é™¤ | Del/Backspace |
| â‹¯ | æ›´å¤šï¼ˆAnalyze/Group/å¯¼å‡º...ï¼‰ | â€” |

**å¤šé€‰æ—¶é¢å¤–æ˜¾ç¤ºï¼š**
- å¯¹é½é€‰é¡¹
- åˆ†å¸ƒé€‰é¡¹
- Group (Cmd+G)

**åˆ†å·¥ï¼š**
| è§’è‰² | ä»»åŠ¡ |
|------|------|
| @Designer | å·¥å…·æ  UI æ ·å¼ï¼ˆmacOS é£æ ¼ã€é˜´å½±ã€åœ†è§’ï¼‰ |
| @Template | å¼¹å‡ºä½ç½®è®¡ç®— + æŒ‰é’®äº¤äº’é€»è¾‘ |
| @Generator | é”å®š/å¯¹é½ç­‰åç«¯æ”¯æŒï¼ˆå¦‚éœ€è¦ï¼‰ |

---

### é¡¶éƒ¨å¯¼èˆªæ é‡æ„

**å½“å‰é—®é¢˜ï¼š** Home æŒ‰é’®åœ¨ sidebar å†…ï¼Œä¸å¤Ÿç›´è§‚

**æœŸæœ›å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ ] [â‰¡]  â”‚               RefBoard                   â”‚
â”‚ Home  Toggle                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŒ‰é’®è¯´æ˜ï¼š**
| æŒ‰é’® | ä½ç½® | åŠŸèƒ½ |
|------|------|------|
| ğŸ  Home | å·¦ä¸Šè§’ç¬¬ä¸€ä¸ª | è¿”å›é¡¹ç›®åˆ—è¡¨ï¼ˆHome é¡µé¢ï¼‰ |
| â‰¡ Toggle | ç´§é‚» Home | æ‰“å¼€/å…³é—­ Sidebar |

**Sidebar Toggle é€»è¾‘ï¼š**
- ç‚¹å‡»åˆ‡æ¢ sidebar æ˜¾ç¤º/éšè—
- è®°ä½çŠ¶æ€åˆ° localStorage
- åŠ¨ç”»ï¼šslide in/out (0.2s ease-out)
- ç”»å¸ƒåŒºåŸŸè‡ªåŠ¨æ‰©å±•/æ”¶ç¼©

**å¿«æ·é”®ï¼š**
- `Cmd+\` â€” åˆ‡æ¢ Sidebar
- `Cmd+Shift+H` â€” è¿”å› Home

**åˆ†å·¥ï¼š**
| è§’è‰² | ä»»åŠ¡ |
|------|------|
| @Designer | æŒ‰é’®æ ·å¼ + åŠ¨ç”» |
| @Template | åˆ‡æ¢é€»è¾‘ + localStorage æŒä¹…åŒ– |

---

## v1 CLI çŠ¶æ€ (å¾…åˆ é™¤)

v1 CLI (`bin/refboard.js`) åŠŸèƒ½å®Œæ•´ï¼Œè¿›å…¥ç»´æŠ¤æ¨¡å¼ã€‚

| çŠ¶æ€ | åŠŸèƒ½ |
|------|------|
| âœ… | åŸºç¡€å‘½ä»¤: init, build, add, import, list, status, meta, remove |
| âœ… | AI å‘½ä»¤: analyze, auto-tag, search, ask, config |
| âœ… | Agent æ¥å£: agent add/layout/export |
| âœ… | serve å‘½ä»¤ (HTTP + SSE livereload) |
| âœ… | save-positions (æ‹–æ‹½ä½ç½®æŒä¹…åŒ–) |
| âœ… | AI Provider ç»Ÿä¸€æ¥å£ (6 ä¸ª Adapter) |
| âœ… | æ–‡æ¡£: README, CHANGELOG, user-guide, API reference |

---

## æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Tauri 2.0 App Shell         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   WebView (PixiJS 8 æ¸²æŸ“)   â”‚    â”‚
â”‚  â”‚   - æ— é™ç”»å¸ƒ               â”‚    â”‚
â”‚  â”‚   - 60fps æ‹–æ‹½/ç¼©æ”¾        â”‚    â”‚
â”‚  â”‚   - AI åˆ†æ + æœç´¢ UI      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚ Tauri IPC         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Rust Backend              â”‚    â”‚
â”‚  â”‚   - scan_images / import    â”‚    â”‚
â”‚  â”‚   - metadata.json è¯»å†™      â”‚    â”‚
â”‚  â”‚   - SQLite æœç´¢ç´¢å¼•         â”‚    â”‚
â”‚  â”‚   - AI API ä»£ç†             â”‚    â”‚
â”‚  â”‚   - board state æŒä¹…åŒ–      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
